# Лабораторная работа №2. Виртуальный сервер
Выполнил: Сигал Артем, IA2403
Дата: 19.02
## Описание задачи
Целью лабораторной работы является изучение принципов виртуализации операционных систем на примере установки серверной версии Debian в гипервизоре QEMU, а также настройка виртуального HTTP-сервера с использованием стека LAMP (Linux, Apache, MariaDB, PHP).
В рамках работы необходимо создать виртуальную машину, установить на неё ОС Debian без графического интерфейса, развернуть веб-сервер Apache, установить СУБД MariaDB и PHP, а также настроить виртуальные хосты для PhpMyAdmin и WordPress.
## Описание выполнения работы
1. Был скачан серверный дистрибутив Debian для архитектуры x64 и гипервизор QEMU.
2. Создан репозиторий **containers02**, в котором была создана структура каталогов и добавлен файл **.gitignore** для исключения ISO-образов и файлов виртуальных дисков.
3. С помощью утилиты **qemu-img** создан виртуальный диск формата qcow2 размером 8 ГБ.
4. Виртуальная машина была запущена с использованием **qemu-system-x86_64**, после чего произведена установка Debian со следующими параметрами:
- Имя компьютера: debian
- Хостовое имя: debian.localhost
- Пользователь: user
- Пароль: password
5. После установки ОС виртуальная машина была перезапущена с пробросом портов:
- 1080 → 80 (HTTP)
- 1022 → 22 (SSH)
6. В системе был установлен стек LAMP:
- apache2 — веб-сервер
- php — интерпретатор PHP
- libapache2-mod-php — модуль Apache для обработки PHP
- php-mysql — расширение PHP для работы с БД
- mariadb-server — сервер базы данных
- mariadb-client — клиент для управления БД
- unzip — утилита для распаковки архивов
7. Были скачаны и распакованы:
- PhpMyAdmin в **/var/www/phpmyadmin**
- WordPress в **/var/www/wordpress**
8. Через консоль MySQL создана база данных **wordpress_db** и пользователь **user**.
9. В Apache созданы виртуальные хосты:
phpmyadmin.localhost
wordpress.localhost
10. Конфигурации активированы с помощью **a2ensite**, а в файл **/etc/hosts** добавлены соответствующие записи.
11. После перезапуска Apache проверена доступность сайтов:
- http://wordpress.localhost:1080
- http://phpmyadmin.localhost:1080
Сайты успешно открываются в браузере.
## Ответы на поставленные вопросы:
1. Какое назначение установленных пакетов?
**apache2** — HTTP-сервер, обрабатывает запросы браузера.
**php** — язык серверного программирования.
**libapache2-mod-php** — позволяет Apache выполнять PHP-скрипты.
**php-mysql** — обеспечивает взаимодействие PHP с базой данных.
**mariadb-server** — сервер реляционной базы данных.
**mariadb-client** — инструмент для работы с БД через командную строку.
**unzip** — утилита для распаковки архивов .zip.
2. Что выводит команда `uname -a`?
Команда выводит полную информацию о системе:
- имя ядра (Linux),
- имя хоста,
- версию ядра,
- дату сборки,
- архитектуру процессора (x86_64).
3. Как перезагрузить Apache Web Server?
Перезапуск Apache выполняется командой:
`systemctl restart apache2`
Или:
`service apache2 restart`
## Выводы
В ходе выполнения лабораторной работы были изучены основы виртуализации операционных систем с использованием гипервизора QEMU. Была успешно установлена серверная версия Debian и настроен веб-сервер на базе стека LAMP.
Получены практические навыки:
- создания и запуска виртуальной машины;
- управления пакетами Linux;
- настройки Apache Virtual Hosts;
- создания базы данных и пользователя в MariaDB;
- развертывания CMS WordPress и PhpMyAdmin.
Работа позволила закрепить понимание архитектуры клиент-серверных приложений и принципов функционирования веб-инфраструктуры.
## Ответы на вопросы: 
1. Как скачать файл с помощью wget?
Файл скачивается командой:
`wget https://example.com/file.zip`
Файл сохраняется в текущую директорию.
Можно использовать параметр **-O** для указания имени файла.
2. Зачем создавать отдельную базу и пользователя для каждого сайта?
Это необходимо для изоляции проектов, повышения безопасности и разграничения прав доступа. При компрометации одного сайта остальные не будут затронуты.
3. Как изменить порт доступа к системе управления БД на 1234?
В конфигурационном файле MariaDB (**50-server.cnf**) нужно изменить параметр:
`port = 3306`
на
`port = 1234`
После этого перезапустить службу:
`systemctl restart mariadb`
4. Какие преимущества даёт виртуализация?
Позволяет запускать несколько ОС на одном устройстве, изолировать среды, тестировать системы без риска для основной ОС и эффективно использовать ресурсы оборудования.
5. Зачем настраивать время и временную зону на сервере?
Для корректной работы логов, планировщика задач, SSL-сертификатов и правильного отображения времени в приложениях.
6. Сколько места занимает установленная ОС?
Минимальная серверная версия Debian без графического интерфейса занимает примерно 1.5–3 ГБ. Формат qcow2 использует динамическое выделение памяти.
7. Рекомендации по разбиению диска для серверов
Рекомендуется выделять отдельные разделы для **/**, **/home**, **/var**, **/boot** и **swap**. Это повышает стабильность системы, упрощает администрирование и предотвращает сбои при переполнении отдельных разделов.